<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="liveStreaming.mapper.VideoRecordMapper">

    <select id="videoRecord" resultType="liveStreaming.dto.VideoRecordDto">
        select * from ssf_schema.video_upload where u_id=#{u_id};
    </select>

	<insert id="videoUpload" parameterType="liveStreaming.dto.VideoRecordDto">
		insert 
		  into ssf_schema.video_upload 
		       (v_code, v_name, v_img, c_code, v_length, u_id, v_views, v_link)
        values
               (#{v_code},#{v_name},#{v_img},#{c_code},#{v_length},#{u_id}, #{v_views},#{v_link}) 
	</insert>

    <select id="videoViews" resultType="liveStreaming.dto.VideoRecordDto">
        select v_name, v_views 
            from ssf_schema.video_upload 
                where u_id = #{u_id} 
                order by v_views DESC 
                LIMIT 10;
    </select>

</mapper>